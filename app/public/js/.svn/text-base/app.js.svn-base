// Generated by CoffeeScript 1.8.0
define(['../../set'], function(set) {
  var app;
  return app = {
    "do": function() {
      var App;
      App = Ember.Application.create();
      App.ApplicationRoute = Ember.Route.extend({
        model: function() {
          return [];
        }
      });
      App.ApplicationController = Ember.ObjectController.extend({
        needs: 'questions',
        number: '100',
        questionTokens: [],
        answerTokens: [],
        actions: {
          next: function() {
            var item, list;
            list = this.get('model');
            item = list.pop();
            return false;
          }
        }
      });
      App.QuestionsController = Ember.ArrayController.extend({
        needs: ['question', 'application'],
        actions: {
          done: function(questions) {
            var a, blob, file, fileName, q, question, _i, _j, _k, _len, _len1, _len2, _ref, _ref1;
            file = {
              question: this.get('controllers.application.questionTokens'),
              answer: this.get('controllers.application.answerTokens'),
              selected: []
            };
            for (_i = 0, _len = questions.length; _i < _len; _i++) {
              question = questions[_i];
              if (question.isSelected) {
                file.selected.push({
                  id: question.id,
                  questiontitle_original: question.questiontitle_original
                });
              }
            }
            blob = new Blob([JSON.stringify(file)], {
              type: 'application/json;charset=utf-8'
            });
            fileName = '';
            _ref = file.question;
            for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
              q = _ref[_j];
              fileName += q;
              fileName += '-';
            }
            fileName += '___';
            _ref1 = file.answer;
            for (_k = 0, _len2 = _ref1.length; _k < _len2; _k++) {
              a = _ref1[_k];
              fileName += a;
              fileName += '-';
            }
            return saveAs(blob, fileName + '.json');
          }
        }
      });
      App.QuestionController = Ember.ObjectController.extend({
        needs: 'questions'
      });
      return false;
    }
  };
});
